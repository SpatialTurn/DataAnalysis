<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Lesson Title: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>


      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Lesson Title
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Lesson Title
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Lesson Title
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Census Geocoding</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="networkanalysis.html">2. Network Analysis</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="pysal.html">3. Spatial Analysis</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="cluster.html">4. Spatial Clustering</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="ndvi.html">5. NDVI Analysis</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-introduction"><p>Content from <a href="introduction.html">Census Geocoding</a></p>
<hr>
<p>Last updated on 2026-01-14 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/introduction.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is geocoding and why is it essential for census analysis?</li>
<li>How can we convert addresses into spatial coordinates?</li>
<li>How do we combine census data with OpenStreetMap features?</li>
<li>How can spatial context improve demographic analysis?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand what geocoding is and how it works</li>
<li>Convert address-based census data into geographic coordinates</li>
<li>Query OpenStreetMap (OSM) features using Python</li>
<li>Combine census points with OSM layers for spatial analysis</li>
<li>Visualize geocoded census data alongside urban infrastructure</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Census and demographic datasets are often
<strong>non-spatial</strong> — they exist as tables containing
addresses, place names, or administrative units. To analyze these data
geographically, we must first <strong>geocode</strong> them: converting
text-based locations into latitude and longitude coordinates.</p>
<p>Once census data are geocoded, they can be enriched with contextual
information from <strong>OpenStreetMap (OSM)</strong>, such as roads,
buildings, parks, schools, or hospitals. This enables deeper spatial
insights into population distribution, accessibility, and urban
structure.</p>
<p>In this lesson, you will learn how to:</p>
<ol style="list-style-type: decimal">
<li>Geocode address-based census data</li>
<li>Convert results into spatial objects</li>
<li>Query OpenStreetMap features</li>
<li>Visualize census data in its geographic context</li>
</ol></section><section><h2 class="section-heading" id="why-census-geocoding-matters">Why Census Geocoding Matters ?<a class="anchor" aria-label="anchor" href="#why-census-geocoding-matters"></a>
</h2>
<hr class="half-width">
<p>Census data becomes far more powerful when location is explicitly
included. Geocoding allows researchers to move from spreadsheets to
spatial insight.</p>
<div class="section level3">
<h3 id="what-census-geocoding-helps-us-understand">What Census Geocoding Helps Us Understand<a class="anchor" aria-label="anchor" href="#what-census-geocoding-helps-us-understand"></a>
</h3>
<ul>
<li>Population distribution and density patterns<br>
</li>
<li>Access to services (schools, hospitals, transit, parks)<br>
</li>
<li>Spatial inequality and environmental justice<br>
</li>
<li>Urban growth and land-use change<br>
</li>
<li>Neighborhood-level demographic trends<br>
</li>
<li>Relationships between people and infrastructure</li>
</ul>
</div>
<div class="section level3">
<h3 id="why-researchers-combine-census-data-with-osm">Why Researchers Combine Census Data with OSM<a class="anchor" aria-label="anchor" href="#why-researchers-combine-census-data-with-osm"></a>
</h3>
<ul>
<li>Census data provides <strong>who and what</strong>
</li>
<li>OpenStreetMap provides <strong>where and how</strong>
</li>
<li>Together, they enable:
<ul>
<li>Accessibility studies</li>
<li>Urban planning analysis</li>
<li>Public health assessments</li>
<li>Infrastructure equity evaluations</li>
<li>Place-based policy analysis</li>
</ul>
</li>
</ul>
<p>Geocoding transforms census data from static tables into
<strong>spatial evidence</strong>.</p>
</div>
</section><section><h2 class="section-heading" id="installing-required-libraries">1. Installing Required Libraries<a class="anchor" aria-label="anchor" href="#installing-required-libraries"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="op">!</span>pip install geopandas geopy osmnx matplotlib</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="load-census-data-or-address-data">2. Load Census Data or Address Data<a class="anchor" aria-label="anchor" href="#load-census-data-or-address-data"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"census_addresses.csv"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>df.head()</span></code></pre>
</div>
<p>This dataset should contain an address column (e.g., street, city,
state).</p>
</section><section><h2 class="section-heading" id="geocode-addresses-using-nominatim">3. Geocode Addresses Using <code>Nominatim</code>
<a class="anchor" aria-label="anchor" href="#geocode-addresses-using-nominatim"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="im">from</span> geopy.geocoders <span class="im">import</span> Nominatim</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"census_geocoding_tutorial"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="kw">def</span> geocode_address(address):</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>        location <span class="op">=</span> geolocator.geocode(address)</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>        <span class="cf">return</span> location.latitude, location.longitude</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>df[<span class="st">"lat"</span>], df[<span class="st">"lon"</span>] <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>df[<span class="st">"address"</span>].<span class="bu">apply</span>(geocode_address))</span></code></pre>
</div>
<p><em>Note: Geocoding services may return None for incomplete or
ambiguous addresses.</em></p>
</section><section><h2 class="section-heading" id="convert-to-a-geodataframe">4. Convert to a GeoDataFrame<a class="anchor" aria-label="anchor" href="#convert-to-a-geodataframe"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>gdf <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    df,</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    geometry<span class="op">=</span>gpd.points_from_xy(df.lon, df.lat),</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    crs<span class="op">=</span><span class="st">"EPSG:4326"</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>)</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>gdf.head()</span></code></pre>
</div>
<p>Plot the geocoded points:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>gdf.plot(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">6</span>), color<span class="op">=</span><span class="st">"red"</span>)</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="query-openstreetmap-features">5. Query OpenStreetMap Features<a class="anchor" aria-label="anchor" href="#query-openstreetmap-features"></a>
</h2>
<hr class="half-width">
<p>OpenStreetMap provides free, global geographic data.</p>
<p>Example: download buildings in a city.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="im">import</span> osmnx <span class="im">as</span> ox</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>place <span class="op">=</span> <span class="st">"Lafayette, Indiana, USA"</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>buildings <span class="op">=</span> ox.geometries_from_place(</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>    place,</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>    tags<span class="op">=</span>{<span class="st">"building"</span>: <span class="va">True</span>}</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>)</span></code></pre>
</div>
<p>Plot buildings with census points:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>ax <span class="op">=</span> buildings.plot(color<span class="op">=</span><span class="st">"lightgray"</span>, figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>))</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>gdf.plot(ax<span class="op">=</span>ax, color<span class="op">=</span><span class="st">"red"</span>, markersize<span class="op">=</span><span class="dv">10</span>)</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="adding-spatial-context-to-census-data">6. Adding Spatial Context to Census Data<a class="anchor" aria-label="anchor" href="#adding-spatial-context-to-census-data"></a>
</h2>
<hr class="half-width">
<p>You can buffer census points to analyze nearby features.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>gdf_buffer <span class="op">=</span> gdf.copy()</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>gdf_buffer[<span class="st">"geometry"</span>] <span class="op">=</span> gdf_buffer.geometry.<span class="bu">buffer</span>(<span class="dv">200</span>)  <span class="co"># meters (after projection)</span></span></code></pre>
</div>
<p>Spatial join example:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>join <span class="op">=</span> gpd.sjoin(buildings, gdf_buffer, predicate<span class="op">=</span><span class="st">"within"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>join.head()</span></code></pre>
</div>
<p>This links buildings to nearby census locations.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Challenge 1 — Query a Different OSM Feature</p>
<p>Choose one:</p>
<ul>
<li><p>Roads → <code>{"highway": True}</code></p></li>
<li><p>Schools → <code>{"amenity": "school"}</code></p></li>
<li><p>Parks → <code>{"leisure": "park"}</code></p></li>
</ul>
<p>Plot the feature with census points.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>parks <span class="op">=</span> ox.geometries_from_place(place, tags<span class="op">=</span>{<span class="st">"leisure"</span>: <span class="st">"park"</span>})</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>parks.plot()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge<em> (continued)</em>
</h3>
<div class="callout-content">
<p>Challenge 2 — Accessibility Analysis</p>
<p>For each census point:</p>
<ul>
<li><p>Create a buffer</p></li>
<li><p>Count how many buildings fall inside</p></li>
<li><p>Interpret spatial differences</p></li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Higher counts suggest higher accessibility or density.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="math">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>Geocoding transforms a text location <code>L</code> into coordinates
(x,y)</p>
<p>Spatial joins evaluate relationships between geometries:</p>
<ul>
<li>within</li>
<li>intersects</li>
<li>contains These operations allow census attributes to be analyzed
spatially.</li>
</ul>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li><p>Geocoding converts census addresses into spatial
coordinates</p></li>
<li><p>GeoPandas enables spatial operations on tabular data</p></li>
<li><p>OpenStreetMap provides rich contextual geographic layers</p></li>
<li><p>Combining census + OSM reveals spatial patterns and
inequality</p></li>
<li><p>Spatial context transforms demographic data into actionable
insight</p></li>
</ul>
</div>
</div>
</div>
</section><div class="section level1">
<h1 id="module-overview">Module Overview<a class="anchor" aria-label="anchor" href="#module-overview"></a>
</h1>
<table class="table">
<colgroup>
<col width="14%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>Lesson</th>
<th>Overview</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/Address_based_geocode.ipynb" target="_blank" class="external-link">Beginner</a></td>
<td>Introduction to Address Geocoding</td>
</tr>
<tr class="even">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/OSM_Query_intermediate.ipynb" target="_blank" class="external-link">Intermediate</a></td>
<td>Introduction to OSM Overpass API</td>
</tr>
<tr class="odd">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/batchgeocoding.ipynb" target="_blank" class="external-link">Advanced</a></td>
<td>Introduction to Advanced Batch-Geocoding</td>
</tr>
</tbody>
</table>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-networkanalysis"><p>Content from <a href="networkanalysis.html">Network Analysis</a></p>
<hr>
<p>Last updated on 2025-12-05 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/networkanalysis.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do we download and visualize road networks with OSM data?</li>
<li>What is a graph network and how is it represented in Python?</li>
<li>How can we compute shortest paths and network distances?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn how to retrieve OpenStreetMap road data using OSMnx</li>
<li>Convert road networks into graphs for routing and analysis</li>
<li>Visualize networks and shortest paths on a map</li>
<li>Compute route distances and travel time across a network</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<hr class="half-width">
<p>This tutorial provides a practical introduction to performing road
network analysis using Python, focusing on analyzing road networks in a
specified area (e.g., West Lafayette, Indiana) to study food deserts. It
uses libraries such as <code>networkx</code>, <code>osmnx</code>,
<code>folium</code>, <code>pandas</code>, <code>geopandas</code>, and
<code>matplotlib</code> to fetch, visualize, and analyze road networks,
compute centroid nodes, and calculate the shortest path based on travel
time. The tutorial also applies this analysis to food accessibility data
in Indiana.</p>
<p>The coordinates of grocery stores in Indiana were fetched using
OpenStreetMap (OSM). Network analysis is used to calculate distances and
times from grocery store locations to the center of areas of interest,
considering factors such as the number of supermarkets, income, and
vehicle accessibility. Distances are classified as good (around 1 mile)
or low-accessible (over 5 miles), depending on rural or urban settings.
Low Income and Low Access maps were created for each census tract in
Indiana and compared to the USDA food desert dataset.</p>
<div class="section level4">
<h4 id="why-network-analysis-for-food-deserts">Why Network Analysis for Food Deserts?<a class="anchor" aria-label="anchor" href="#why-network-analysis-for-food-deserts"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong>Mapping Accessibility</strong>: Models connections between
grocery stores and transportation systems to identify areas with limited
healthy food access due to distance or lack of transportation.</li>
<li>
<strong>Area Development</strong>: Helps improve accessibility and
quality of life in underserved regions.</li>
<li>
<strong>Promotes Equity</strong>: Highlights disparities to create
solutions for equitable access to nutritious food.</li>
<li>
<strong>Optimization of Resources</strong>: Ensures equal
distribution of resources for all individuals.</li>
</ol>
</div>
<div class="section level4">
<h4 id="environment-setup">Environment Setup<a class="anchor" aria-label="anchor" href="#environment-setup"></a>
</h4>
<p>Libraries imported for this tutorial: - <code>osmnx</code>: Fetches
and processes OpenStreetMap road network data. - <code>networkx</code>:
Performs graph-based computations, such as shortest path calculations. -
<code>folium</code>: Enables interactive map visualizations. -
<code>geopandas</code> and <code>shapely</code>: Handle geospatial data
and geometry operations. - <code>matplotlib</code>: Generates static
plots, including network visualization. - <code>geopy</code>: Calculates
geodesic distances for spatial analysis.</p>
</div>
<div class="section level4">
<h4 id="data-acquisition">Data Acquisition<a class="anchor" aria-label="anchor" href="#data-acquisition"></a>
</h4>
<p>The road network for West Lafayette, Indiana, is fetched using
<code>ox.graph.from_place("West Lafayette, Indiana", network_type="drive")</code>,
retrieving the drivable road network from OpenStreetMap as a graph
(nodes as intersections, edges as road segments). The graph can be saved
as a GraphML file (e.g.,
<code>westlafayette_indiana_network.graphml</code>) using
<code>ox.save_graphml</code> to avoid redundant downloads. This can be
adapted for any U.S. area with a single line of code.</p>
</div>
<div class="section level4">
<h4 id="applications">Applications<a class="anchor" aria-label="anchor" href="#applications"></a>
</h4>
<ul>
<li>
<strong>Urban Planning</strong>: Analyzing road connectivity and
accessibility in cities.</li>
<li>
<strong>Transportation Studies</strong>: Optimizing routes based on
travel time or distance.</li>
<li>
<strong>Geospatial Analysis</strong>: Studying spatial relationships
in infrastructure networks.</li>
<li>
<strong>Emergency Response</strong>: Identifying the fastest routes
for first responders.</li>
</ul>
</div>
<div class="section level4">
<h4 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h4>
<p>A folium map example shows a blue star indicating the centroid of
West Lafayette to a random point (green flag), with the shortest path
marked by a red line/polygon.</p>
</div>
<div class="section level4">
<h4 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h4>
<ul>
<li>
<strong>Data Dependency</strong>: Relies on OpenStreetMap data,
which may vary in quality or availability by region.</li>
<li>
<strong>Performance</strong>: Large networks may require significant
computational resources for fetching and processing.</li>
</ul>
</div>
</section><section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Network analysis allows us to study movement, connectivity, and
accessibility across geographic space. Roads, sidewalks, rivers, power
lines, and transit systems can be modeled as <strong>graphs</strong>,
where intersections are <em>nodes</em> and paths are <em>edges</em>.</p>
<p>This lesson demonstrates how to:</p>
<ol style="list-style-type: decimal">
<li>Download a road network using <strong>OSMnx</strong>
</li>
<li>Convert it into a <strong>graph using NetworkX</strong>
</li>
<li>Visualize the network</li>
<li>Run <strong>shortest path routing</strong> between two
locations</li>
</ol>
<hr></section><section><h2 class="section-heading" id="install-required-libraries">1. Install Required Libraries<a class="anchor" aria-label="anchor" href="#install-required-libraries"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="op">!</span>pip install osmnx networkx matplotlib</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="import-libraries">2. Import Libraries<a class="anchor" aria-label="anchor" href="#import-libraries"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> osmnx <span class="im">as</span> ox</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="im">import</span> networkx <span class="im">as</span> nx</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="download-a-road-network-from-openstreetmap">3. Download a Road Network from OpenStreetMap<a class="anchor" aria-label="anchor" href="#download-a-road-network-from-openstreetmap"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>place <span class="op">=</span> <span class="st">"West Lafayette, Indiana, USA"</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>G <span class="op">=</span> ox.graph_from_place(place, network_type<span class="op">=</span><span class="st">"drive"</span>)</span></code></pre>
</div>
<p>Visualize network:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>fig, ax <span class="op">=</span> ox.plot_graph(G, node_size<span class="op">=</span><span class="dv">5</span>, edge_color<span class="op">=</span><span class="st">"gray"</span>)</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="convert-the-graph-to-nodes-and-edges-geodataframes">4. Convert the Graph to Nodes and Edges GeoDataFrames<a class="anchor" aria-label="anchor" href="#convert-the-graph-to-nodes-and-edges-geodataframes"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>nodes, edges <span class="op">=</span> ox.graph_to_gdfs(G)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>nodes.head(), edges.head()</span></code></pre>
</div>
<p>Plot edges alone:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>edges.plot(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>), linewidth<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>plt.title(<span class="st">"Road Network"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="find-shortest-route-between-two-points">5. Find Shortest Route Between Two Points<a class="anchor" aria-label="anchor" href="#find-shortest-route-between-two-points"></a>
</h2>
<hr class="half-width">
<p>Choose two coordinates manually or by clicking on a map.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>orig <span class="op">=</span> ox.distance.nearest_nodes(G, <span class="op">-</span><span class="fl">86.9145</span>, <span class="fl">40.4253</span>)  <span class="co"># lon, lat</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>dest <span class="op">=</span> ox.distance.nearest_nodes(G, <span class="op">-</span><span class="fl">86.9079</span>, <span class="fl">40.4268</span>)</span></code></pre>
</div>
<p>Calculate shortest path:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>route <span class="op">=</span> nx.shortest_path(G, orig, dest, weight<span class="op">=</span><span class="st">"length"</span>)</span></code></pre>
</div>
<p>Plot route:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>ox.plot_graph_route(G, route, route_color<span class="op">=</span><span class="st">"red"</span>)</span></code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Challenge 1 — Try Your Own Route</p>
<ul>
<li>Pick any two points in a city of your choice.</li>
<li>Compute and visualize the shortest path between them.</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>orig <span class="op">=</span> ox.distance.nearest_nodes(G, lon1, lat1)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>dest <span class="op">=</span> ox.distance.nearest_nodes(G, lon2, lat2)</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>route <span class="op">=</span> nx.shortest_path(G, orig, dest, weight<span class="op">=</span><span class="st">"length"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>ox.plot_graph_route(G, route)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge<em> (continued)</em>
</h3>
<div class="callout-content">
<p>Challenge 2 — Estimate Travel Distance</p>
<p>Using your computed route, calculate the total path length:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>total_length <span class="op">=</span> <span class="bu">sum</span>(</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>    ox.utils_graph.get_route_edge_attributes(G, route, <span class="st">"length"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Route length (meters):"</span>, total_length)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Convert meters → km:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="bu">print</span>(total_length<span class="op">/</span><span class="dv">1000</span>, <span class="st">"km"</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="math">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>A network is represented as a graph:</p>
<p>G = (V,E)</p>
<p>Where:</p>
<ul>
<li>V = set of nodes (intersections)</li>
<li>E = edges (roads)</li>
</ul>
<p>Shortest path = minimum weighted path across <code>E</code>.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li><p>OSMnx simplifies downloading and converting OSM road
networks</p></li>
<li><p>Graphs model movement and connectivity in space</p></li>
<li><p>NetworkX allows shortest path and routing analysis</p></li>
<li><p>Visualization helps interpret accessibility patterns</p></li>
</ul>
</div>
</div>
</div>
</section><div class="section level1">
<h1 id="module-overview">Module Overview<a class="anchor" aria-label="anchor" href="#module-overview"></a>
</h1>
<table class="table">
<colgroup>
<col width="14%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>Lesson</th>
<th>Overview</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/Network_Analysis_Tutorial.ipynb" target="_blank" class="external-link">Beginner</a></td>
<td>Introduction to Network Analysis and color coding distances.</td>
</tr>
<tr class="even">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/OSM_Network_Tutorial.ipynb" target="_blank" class="external-link">Advanced</a></td>
<td>Obtains coordinates from OSM and uses centroid analysis to calculate
distances and travel times for multiple points of interests.</td>
</tr>
</tbody>
</table>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-pysal"><p>Content from <a href="pysal.html">Spatial Analysis</a></p>
<hr>
<p>Last updated on 2025-12-05 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/pysal.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is PySAL and what can it do for spatial analysis?</li>
<li>How do we compute spatial weights and perform spatial
autocorrelation?</li>
<li>How do we interpret results like Moran’s I?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the purpose of PySAL in spatial data science</li>
<li>Learn how to load spatial data using GeoPandas</li>
<li>Construct spatial weight matrices</li>
<li>Compute Global Moran’s I using PySAL</li>
<li>Visualize spatial clustering and spatial autocorrelation</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="why-is-pysal-important">Why is PySAL Important?<a class="anchor" aria-label="anchor" href="#why-is-pysal-important"></a>
</h2>
<hr class="half-width">
<p>PySAL (Python Spatial Analysis Library) is one of the most widely
used toolkits for working with spatial data in Python. Unlike
traditional statistical libraries, PySAL is designed specifically for
datasets where <strong>location matters</strong> — where observations
influence nearby observations, and spatial patterns may not be
random.</p>
<p>Geographers, urban planners, environmental scientists,
epidemiologists, and data analysts use PySAL to identify spatial
relationships, detect clustering, and build models that incorporate
proximity and geography.</p>
<div class="section level3">
<h3 id="what-pysal-helps-us-understand">What PySAL Helps Us Understand<a class="anchor" aria-label="anchor" href="#what-pysal-helps-us-understand"></a>
</h3>
<ul>
<li>Where events cluster or disperse across space<br>
</li>
<li>Whether high or low values form <strong>hotspots or
coldspots</strong><br>
</li>
<li>How neighborhoods influence one another (spatial dependency)<br>
</li>
<li>Spatial inequality patterns in income, population, crime, disease,
etc.<br>
</li>
<li>Geographic diffusion (wildfire spread, disease transmission,
migration flows)<br>
</li>
<li>Environmental change and land-use impacts</li>
</ul>
</div>
<div class="section level3">
<h3 id="why-researchers-use-pysal">Why Researchers Use PySAL<a class="anchor" aria-label="anchor" href="#why-researchers-use-pysal"></a>
</h3>
<ul>
<li>Built for <strong>spatial statistics</strong> — tools that general
libraries lack<br>
</li>
<li>Easy integration with <strong>GeoPandas, raster data, and
shapefiles</strong><br>
</li>
<li>Provides standard spatial methods such as:
<ul>
<li>Spatial weights (Queen, Rook, KNN, Distance-based)<br>
</li>
<li>Global &amp; Local Moran’s I (LISA)<br>
</li>
<li>Spatial clustering &amp; hotspot detection<br>
</li>
<li>Spatial regression models<br>
</li>
</ul>
</li>
<li>Enables <strong>data-driven decision making in
geography</strong><br>
</li>
<li>Scales from local studies to large regional/global analyses<br>
</li>
<li>Helps test spatial hypotheses scientifically instead of
visually</li>
</ul>
</div>
<div class="section level3">
<h3 id="spatial-analysis-in-context">Spatial Analysis in Context<a class="anchor" aria-label="anchor" href="#spatial-analysis-in-context"></a>
</h3>
<p>Spatial analysis answers questions like:</p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Question</th>
<th>PySAL Method</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Do areas with high values cluster together?</td>
<td>Moran’s I</td>
</tr>
<tr class="even">
<td>Where are hotspots located?</td>
<td>Local Moran / LISA maps</td>
</tr>
<tr class="odd">
<td>What counts as a neighbor?</td>
<td>Spatial weights matrices</td>
</tr>
<tr class="even">
<td>Are patterns random or significant?</td>
<td>Monte Carlo permutation tests</td>
</tr>
<tr class="odd">
<td>How do variables influence each other across space?</td>
<td>Spatial regression</td>
</tr>
</tbody>
</table>
<p>PySAL makes these methods accessible in Python, allowing analysts to
move from <strong>maps</strong> to <strong>statistical evidence</strong>
— revealing underlying spatial patterns that are not visible from
visualization alone.</p>
</div>
</section><section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p><a href="https://pysal.org/" class="external-link">PySAL</a> is the Python Spatial Analysis
Library — a powerful, open-source toolkit for working with spatial data.
It provides tools for:</p>
<ul>
<li>spatial weights<br>
</li>
<li>spatial autocorrelation<br>
</li>
<li>clustering<br>
</li>
<li>spatial regression<br>
</li>
<li>neighborhood analysis</li>
</ul>
<p>This tutorial introduces the <strong>core PySAL workflow</strong>,
closely following the structure used in your uploaded notebook.</p>
<p>We will cover:</p>
<ol style="list-style-type: decimal">
<li>Loading polygon or point data<br>
</li>
<li>Building spatial weights<br>
</li>
<li>Running Global Moran’s I<br>
</li>
<li>Visualizing results</li>
</ol>
<p>This tutorial assumes basic familiarity with <code>pandas</code>,
<code>geopandas</code>, and Python.</p>
<p>What you need to know for Carpentries lessons:</p>
<ol style="list-style-type: decimal">
<li>
<code>questions</code> prime the learner for the lesson.</li>
<li>
<code>objectives</code> state what skills will be gained.</li>
<li>
<code>keypoints</code> summarize what was learned.</li>
</ol></section><section><h2 class="section-heading" id="loading-spatial-data">1. Loading Spatial Data<a class="anchor" aria-label="anchor" href="#loading-spatial-data"></a>
</h2>
<hr class="half-width">
<p>PySAL works seamlessly with <strong>GeoPandas</strong>.<br>
Here’s a simple example using a polygon shapefile:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>gdf <span class="op">=</span> gpd.read_file(<span class="st">"data/shapes.shp"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>gdf.head()</span></code></pre>
</div>
<p>Plot the boundaries:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>gdf.plot(edgecolor<span class="op">=</span><span class="st">"black"</span>, figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">6</span>))</span></code></pre>
</div>
<p>This ensures the geometry is valid and loads correctly.</p>
</section><section><h2 class="section-heading" id="building-spatial-weights">2. Building Spatial Weights<a class="anchor" aria-label="anchor" href="#building-spatial-weights"></a>
</h2>
<hr class="half-width">
<p>Spatial weights define who is a neighbor of whom.</p>
<p>PySAL includes:</p>
<ul>
<li><p>Rook contiguity</p></li>
<li><p>Queen contiguity</p></li>
<li><p>K-nearest neighbors</p></li>
<li><p>Distance-based neighbors</p></li>
</ul>
<div class="section level3">
<h3 id="example-queen-contiguity">Example: Queen Contiguity<a class="anchor" aria-label="anchor" href="#example-queen-contiguity"></a>
</h3>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="im">from</span> libpysal.weights <span class="im">import</span> Queen</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>w <span class="op">=</span> Queen.from_dataframe(gdf)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>w.transform <span class="op">=</span> <span class="st">"R"</span>  <span class="co"># row-standardization</span></span></code></pre>
</div>
<p>Check neighbors of the first polygon:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>w.neighbors[<span class="dv">0</span>]</span></code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="global-morans-i">3. Global Moran’s I<a class="anchor" aria-label="anchor" href="#global-morans-i"></a>
</h2>
<hr class="half-width">
<p>Moran’s I measures global spatial autocorrelation:</p>
<ul>
<li><p>Positive values → clustering</p></li>
<li><p>Negative values → dispersion</p></li>
<li><p>Near zero → random pattern</p></li>
</ul>
<p>Assume the dataset has a numeric column <code>value</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">import</span> esda</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>y <span class="op">=</span> gdf[<span class="st">'value'</span>]</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>mi <span class="op">=</span> esda.Moran(y, w)</span></code></pre>
</div>
<p>View the results:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>mi.I, mi.p_sim</span></code></pre>
</div>
<p>Plot the Moran scatterplot:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="im">import</span> splot.esda <span class="im">as</span> esdaplot</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>esdaplot.moran_scatterplot(mi)</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="local-morans-i-outlier-analysis">4. Local Moran’s I (Outlier Analysis)<a class="anchor" aria-label="anchor" href="#local-morans-i-outlier-analysis"></a>
</h2>
<hr class="half-width">
<p>Local Moran’s I finds hotspots and coldspots.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>lisa <span class="op">=</span> esda.Moran_Local(y, w)</span></code></pre>
</div>
<p>Add LISA quadrant labels to the GeoDataFrame:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>gdf[<span class="st">"lisa_cluster"</span>] <span class="op">=</span> lisa.q</span></code></pre>
</div>
<p>Map the clusters:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>gdf.plot(column<span class="op">=</span><span class="st">"lisa_cluster"</span>, cmap<span class="op">=</span><span class="st">"Set1"</span>, figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>), legend<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<p>This creates a basic LISA cluster map.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Challenge 1: Create Your Own Spatial Weights</p>
<p>Using the GeoDataFrame loaded above:</p>
<ul>
<li><p>Create rook contiguity weights</p></li>
<li><p>Print the neighbor list for observation 10</p></li>
<li><p>Compare how rook vs queen differ</p></li>
</ul>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="im">from</span> libpysal.weights <span class="im">import</span> Rook</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>w_rook <span class="op">=</span> Rook.from_dataframe(gdf)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>w_rook.neighbors[<span class="dv">10</span>]</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Queen neighbors may include diagonal touches. Rook neighbors require
shared edges only. You should see fewer rook neighbors than queen
neighbors.</p>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge<em> (continued)</em>
</h3>
<div class="callout-content">
<p>Challenge 2: Compute Moran’s I on a New Variable</p>
<p>Choose any numeric variable in your dataset:</p>
<ul>
<li><p>Extract the variable</p></li>
<li><p>Compute Moran’s I</p></li>
<li><p>Interpret whether clustering exists</p></li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>A positive Moran’s I with low p-value → strong clustering. Near zero
→ randomness. Negative → spatial dispersion.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="math">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>Global Moran’s I is defined as:</p>
<p><code>$ I = \frac{N}{W} \frac{\sum_i \sum_j w_{ij}(x_i - \bar{x})(x_j - \bar{x})} {\sum_i (x_i - \bar{x})^2} $</code></p>
<p>Where:</p>
<p><code>N</code> = number of observations</p>
<p><code>W</code> = sum of all spatial weights</p>
<p><code>w_ij</code> = weight between units i and j</p>
<p><code>x</code> = variable of interest</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<p>PySAL provides tools for weights, autocorrelation, clustering, and
modeling</p>
<p>Queen and rook weights define spatial neighbors differently</p>
<p>Moran’s I measures global autocorrelation</p>
<p>Local Moran (LISA) identifies hotspots and coldspots</p>
<p>GeoPandas and PySAL together form a powerful spatial analysis
workflow</p>
</div>
</div>
</div>
</section><div class="section level1">
<h1 id="module-overview">Module Overview<a class="anchor" aria-label="anchor" href="#module-overview"></a>
</h1>
<table class="table">
<colgroup>
<col width="14%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>Lesson</th>
<th>Overview</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/pysal_basic.ipynb" target="_blank" class="external-link">Beginner</a></td>
<td>Introduction to Spatial Analysis using PySAL package.</td>
</tr>
<tr class="even">
<td><a href="">Advanced</a></td>
<td>(to be added)</td>
</tr>
</tbody>
</table>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-cluster"><p>Content from <a href="cluster.html">Spatial Clustering</a></p>
<hr>
<p>Last updated on 2025-12-05 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/cluster.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is spatial clustering and why do we use it?</li>
<li>How can we perform basic clustering on geographic point data?</li>
<li>How do algorithms like K-Means, Hierarchical Clustering, and DBSCAN
differ?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the concept of spatial clustering</li>
<li>Learn how to prepare point data for clustering</li>
<li>Apply K-Means, Hierarchical Clustering, and DBSCAN in Python</li>
<li>Visualize clustering results on simple scatterplots and maps</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="why-is-spatial-clustering-important">Why is Spatial Clustering Important?<a class="anchor" aria-label="anchor" href="#why-is-spatial-clustering-important"></a>
</h2>
<hr class="half-width">
<p>Spatial clustering is a core method in geospatial analysis for
identifying how points, people, places, or events are distributed across
space. Instead of treating data as isolated observations, clustering
helps us detect <strong>patterns</strong>, revealing where
concentrations or groupings occur — and just as importantly, where they
do not.</p>
<p>Clustering allows us to transform large sets of point data into
meaningful spatial insights that can guide research, decision-making,
and planning.</p>
<div class="section level3">
<h3 id="what-spatial-clustering-helps-us-understand">What Spatial Clustering Helps Us Understand<a class="anchor" aria-label="anchor" href="#what-spatial-clustering-helps-us-understand"></a>
</h3>
<ul>
<li>Where events or features form geographic
<strong>hotspots</strong>
</li>
<li>How points group based on proximity or similarity</li>
<li>Regions of high vs. low density</li>
<li>Patterns of distribution — clustered, dispersed, or random?</li>
<li>Spatial relationships in social, environmental, or urban data</li>
<li>Location-based trends that maps alone may not reveal</li>
</ul>
</div>
<div class="section level3">
<h3 id="why-analysts-use-spatial-clustering">Why Analysts Use Spatial Clustering<a class="anchor" aria-label="anchor" href="#why-analysts-use-spatial-clustering"></a>
</h3>
<ul>
<li>Reduces <strong>complex spatial datasets</strong> into interpretable
groups<br>
</li>
<li>Helps detect clusters in public health (disease outbreaks), crime,
ecology, and more<br>
</li>
<li>Identifies <strong>emerging hotspots</strong> for management or
intervention<br>
</li>
<li>Useful for <strong>urban planning, environmental monitoring, and
archaeology</strong><br>
</li>
<li>Works well as a first step for further spatial statistics (PySAL,
regression, AI)<br>
</li>
<li>Enables classification, prediction, and pattern recognition in large
datasets</li>
</ul>
</div>
<div class="section level3">
<h3 id="clustering-at-a-glance">Clustering at a Glance<a class="anchor" aria-label="anchor" href="#clustering-at-a-glance"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Method</th>
<th>Strength</th>
<th>Best For</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>K-Means</td>
<td>Simple, fast</td>
<td>Well-separated, circular clusters</td>
</tr>
<tr class="even">
<td>Hierarchical</td>
<td>Dendrogram visualization</td>
<td>Multi-scale grouping, unknown k values</td>
</tr>
<tr class="odd">
<td>DBSCAN</td>
<td>Finds irregular shapes + noise</td>
<td>Spatial hotspots and natural patterns</td>
</tr>
</tbody>
</table>
<p>Spatial clustering is often the <strong>first analytical
step</strong> when exploring point distribution. It moves the analysis
beyond visual mapping — showing not only where points are located, but
how spatial processes shape them.</p>
</div>
</section><section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Spatial clustering is a core method used in geography, archaeology,
ecology, and urban studies. It helps identify <em>patterns</em> in the
spatial distribution of points—such as hotspots of crime, clusters of
archaeological artifacts, or regions with similar environmental
characteristics.</p>
<p>This beginner tutorial walks you through the fundamentals of spatial
clustering using a simple dataset of geographic coordinates. The
workflow is entirely in Python, following the structure used in your
uploaded notebook.</p>
<p>We will cover:</p>
<ul>
<li>Loading and exploring point data<br>
</li>
<li>Preparing coordinates for clustering<br>
</li>
<li>Running three clustering algorithms<br>
</li>
<li>Visualizing the results</li>
</ul>
<p>All examples use standard Python libraries:<br><code>pandas</code>, <code>geopandas</code>, <code>matplotlib</code>,
<code>sklearn</code>, and <code>scipy</code>.</p>

</section><section><h2 class="section-heading" id="loading-spatial-point-data">1. Loading Spatial Point Data<a class="anchor" aria-label="anchor" href="#loading-spatial-point-data"></a>
</h2>
<hr class="half-width">
<p>Spatial clustering typically starts with a set of point locations. A
minimal example:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"points.csv"</span>)   <span class="co"># contains lon, lat</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>df.head()</span></code></pre>
</div>
<p>Visualize the raw points:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>plt.scatter(df.lon, df.lat, s<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>plt.title(<span class="st">"Raw Spatial Points"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>plt.xlabel(<span class="st">"Longitude"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>plt.ylabel(<span class="st">"Latitude"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<p>This simple scatterplot helps identify whether your data already
looks clustered.</p>
</section><section><h2 class="section-heading" id="k-means-clustering">2. K-Means Clustering<a class="anchor" aria-label="anchor" href="#k-means-clustering"></a>
</h2>
<hr class="half-width">
<p>K-Means is the simplest clustering algorithm. It works best when:</p>
<ul>
<li><p>You know the number of clusters you want</p></li>
<li><p>Clusters are roughly circular</p></li>
<li><p>Points are evenly distributed</p></li>
</ul>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="im">from</span> sklearn.cluster <span class="im">import</span> KMeans</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>coords <span class="op">=</span> df[[<span class="st">'lon'</span>, <span class="st">'lat'</span>]]</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>kmeans <span class="op">=</span> KMeans(n_clusters<span class="op">=</span><span class="dv">4</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>df[<span class="st">'kmeans_label'</span>] <span class="op">=</span> kmeans.fit_predict(coords)</span></code></pre>
</div>
<p>Visualize results:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>plt.scatter(df.lon, df.lat, c<span class="op">=</span>df.kmeans_label, cmap<span class="op">=</span><span class="st">'tab10'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>plt.title(<span class="st">"K-Means Clustering"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="hierarchical-clustering">3. Hierarchical Clustering<a class="anchor" aria-label="anchor" href="#hierarchical-clustering"></a>
</h2>
<hr class="half-width">
<p>Hierarchical clustering builds clusters step-by-step. It is useful
when:</p>
<ul>
<li><p>You want a dendrogram</p></li>
<li><p>You don’t know the number of clusters beforehand</p></li>
<li><p>Clusters may have irregular shapes</p></li>
</ul>
<p>Example:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">from</span> sklearn.cluster <span class="im">import</span> AgglomerativeClustering</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>agg <span class="op">=</span> AgglomerativeClustering(n_clusters<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>df[<span class="st">'hier_label'</span>] <span class="op">=</span> agg.fit_predict(coords)</span></code></pre>
</div>
<p>Plot:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>plt.scatter(df.lon, df.lat, c<span class="op">=</span>df.hier_label, cmap<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>plt.title(<span class="st">"Hierarchical Clustering"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="dbscan-density-based-clustering">4. DBSCAN: Density-Based Clustering<a class="anchor" aria-label="anchor" href="#dbscan-density-based-clustering"></a>
</h2>
<hr class="half-width">
<p>DBSCAN is ideal for spatial datasets because:</p>
<ul>
<li><p>It finds clusters of any shape</p></li>
<li><p>It identifies noise points</p></li>
<li><p>It does not require the number of clusters in advance</p></li>
</ul>
<p>Example:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="im">from</span> sklearn.cluster <span class="im">import</span> DBSCAN</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>epsilon <span class="op">=</span> <span class="fl">0.01</span>   <span class="co"># distance threshold</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>db <span class="op">=</span> DBSCAN(eps<span class="op">=</span>epsilon, min_samples<span class="op">=</span><span class="dv">5</span>).fit(coords)</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>df[<span class="st">'dbscan_label'</span>] <span class="op">=</span> db.labels_</span></code></pre>
</div>
<p>Points labeled <code>-1</code> are noise (outliers).</p>
<p>Plot:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>plt.scatter(df.lon, df.lat, c<span class="op">=</span>df.dbscan_label, cmap<span class="op">=</span><span class="st">'Accent'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>plt.title(<span class="st">"DBSCAN Spatial Clusters"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Challenge 1: Exploring Your Own Dataset</p>
<p>Using the examples above:</p>
<ol style="list-style-type: decimal">
<li><p>Load your own set of spatial coordinates</p></li>
<li><p>Apply K-Means and DBSCAN</p></li>
<li><p>Compare the results</p></li>
</ol>
<p>Which method performs better, and why?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Example Interpretation</p>
<ul>
<li><p>K-Means finds evenly divided clusters</p></li>
<li><p>DBSCAN finds natural geographic groups and labels
outliers</p></li>
<li><p>For irregular spatial patterns, DBSCAN usually performs
better</p></li>
</ul>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge<em> (continued)</em>
</h3>
<div class="callout-content">
<p>Challenge 2: Adjusting DBSCAN Sensitivity</p>
<p>Try changing the <code>eps</code> parameter:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>DBSCAN(eps<span class="op">=</span><span class="dv">500</span>, min_samples<span class="op">=</span><span class="dv">5</span>) <span class="co"># eps is in meters</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>DBSCAN(eps<span class="op">=</span><span class="dv">1000</span>,  min_samples<span class="op">=</span><span class="dv">5</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Larger <code>eps</code> creates larger clusters. Smaller
<code>eps</code> creates more clusters and more noise points.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="math">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>DBSCAN uses density to define clusters. Its key idea:</p>
<p>A point belongs to a cluster if it has at least
<code>min_samples</code> neighbors within a distance <code>ε</code>:</p>
<p><code>$\text{density} = \frac{\text{neighbors}}{\pi \varepsilon^2}$</code></p>
<p>Higher density regions form clusters; low density points become
noise.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li><p>Spatial clustering groups geographic points into meaningful
patterns</p></li>
<li><p>K-Means is simple but assumes circular clusters</p></li>
<li><p>Hierarchical clustering builds clusters step-wise</p></li>
<li><p>DBSCAN is best for irregular shapes and detecting noise</p></li>
<li><p>Always visualize your clusters to interpret them
correctly</p></li>
</ul>
</div>
</div>
</div>
</section><div class="section level1">
<h1 id="module-overview">Module Overview<a class="anchor" aria-label="anchor" href="#module-overview"></a>
</h1>
<table class="table">
<colgroup>
<col width="14%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>Lesson</th>
<th>Overview</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/spatialclustering.ipynb" target="_blank" class="external-link">Beginner</a></td>
<td>Introduction to Spatial Clustering using Crime Datasets.</td>
</tr>
<tr class="even">
<td><a href="">Advanced</a></td>
<td>(to be added)</td>
</tr>
</tbody>
</table>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-ndvi"><p>Content from <a href="ndvi.html">NDVI Analysis</a></p>
<hr>
<p>Last updated on 2025-12-05 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/ndvi.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is NDVI and why is it useful?</li>
<li>How do we calculate NDVI from Landsat imagery?</li>
<li>How do we load and visualize raster data in Python?</li>
<li>How can we classify and map greenness using NDVI?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand NDVI and the spectral bands needed to compute it</li>
<li>Learn to read geospatial raster files using rasterio</li>
<li>Calculate NDVI using Red &amp; NIR bands from Landsat</li>
<li>Visualize NDVI as a map with color gradients</li>
<li>Create a simple vegetation classification from NDVI values</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="why-is-ndvi-important">Why is NDVI Important?<a class="anchor" aria-label="anchor" href="#why-is-ndvi-important"></a>
</h2>
<hr class="half-width">
<p>NDVI is one of the most widely used vegetation indices in remote
sensing because it provides a simple yet powerful way to assess plant
health and landscape greenness over large areas. Healthy vegetation
strongly reflects Near-Infrared (NIR) light and absorbs Red light for
photosynthesis — NDVI takes advantage of this behavior to quantify
vegetation vigor.</p>
<div class="section level3">
<h3 id="what-ndvi-helps-us-understand">What NDVI Helps Us Understand<a class="anchor" aria-label="anchor" href="#what-ndvi-helps-us-understand"></a>
</h3>
<ul>
<li>Crop health and agricultural productivity<br>
</li>
<li>Drought severity and water stress<br>
</li>
<li>Forest cover and vegetation density<br>
</li>
<li>Urban expansion and land use change<br>
</li>
<li>Seasonal phenology (spring green-up, fall senescence)<br>
</li>
<li>Disaster monitoring (wildfire burn severity, storm damage)</li>
</ul>
</div>
<div class="section level3">
<h3 id="why-researchers-use-ndvi">Why Researchers Use NDVI<a class="anchor" aria-label="anchor" href="#why-researchers-use-ndvi"></a>
</h3>
<ul>
<li>It is <strong>easy to compute</strong> from satellite imagery<br>
</li>
<li>Works across multiple sensors (Landsat, Sentinel-2, MODIS,
etc.)<br>
</li>
<li>Allows <strong>temporal comparison</strong> (year-to-year vegetation
trends)<br>
</li>
<li>Useful for <strong>ecosystem monitoring &amp; climate change
studies</strong><br>
</li>
<li>Enables <strong>land cover classification</strong> and biomass
estimation<br>
</li>
<li>Supports <strong>decision-making in agriculture and
forestry</strong>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="ndvi-interpretation-at-a-glance">NDVI Interpretation at a Glance<a class="anchor" aria-label="anchor" href="#ndvi-interpretation-at-a-glance"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>NDVI Range</th>
<th>Interpretation</th>
<th>Example Areas</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>-1 to 0</td>
<td>Water, snow, clouds, barren</td>
<td>Lakes, rivers</td>
</tr>
<tr class="even">
<td>0–0.2</td>
<td>Bare soil, built-up land</td>
<td>Urban areas, deserts</td>
</tr>
<tr class="odd">
<td>0.2–0.5</td>
<td>Moderate vegetation</td>
<td>Grasslands, shrubs</td>
</tr>
<tr class="even">
<td>&gt; 0.5</td>
<td>Dense, healthy vegetation</td>
<td>Forests, croplands</td>
</tr>
</tbody>
</table>
<p>NDVI is therefore a foundation metric in environmental science —
enabling researchers, planners, and ecologists to <strong>visualize
vegetation patterns, track change through time, and make data-driven
decisions about land and resources.</strong></p>
<p>In this lesson, we will compute NDVI for Indiana using Landsat bands
and generate maps with Python.</p>

</div>
</section><section><h2 class="section-heading" id="installing-required-libraries">1. Installing Required Libraries<a class="anchor" aria-label="anchor" href="#installing-required-libraries"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="op">!</span>pip install rasterio matplotlib numpy</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="import-dependencies">2. Import Dependencies<a class="anchor" aria-label="anchor" href="#import-dependencies"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> rasterio</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="load-landsat-red-and-nir-bands">3. Load Landsat RED and NIR Bands<a class="anchor" aria-label="anchor" href="#load-landsat-red-and-nir-bands"></a>
</h2>
<hr class="half-width">
<p>Make sure your directory contains Landsat <code>.TIF</code> files
(Band 4 = Red, Band 5 = NIR).</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>red <span class="op">=</span> rasterio.<span class="bu">open</span>(<span class="st">"LC08_L1TP_red.tif"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>nir <span class="op">=</span> rasterio.<span class="bu">open</span>(<span class="st">"LC08_L1TP_nir.tif"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>red_band <span class="op">=</span> red.read(<span class="dv">1</span>).astype(<span class="st">'float32'</span>)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>nir_band <span class="op">=</span> nir.read(<span class="dv">1</span>).astype(<span class="st">'float32'</span>)</span></code></pre>
</div>
<p>Plot a band to inspect:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>plt.imshow(red_band, cmap<span class="op">=</span><span class="st">'Reds'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>plt.title(<span class="st">"Red Band"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>plt.colorbar()</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="calculate-ndvi">4. Calculate NDVI<a class="anchor" aria-label="anchor" href="#calculate-ndvi"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>ndvi <span class="op">=</span> (nir_band <span class="op">-</span> red_band) <span class="op">/</span> (nir_band <span class="op">+</span> red_band)</span></code></pre>
</div>
<p>Visualize NDVI:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">7</span>,<span class="dv">6</span>))</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>plt.imshow(ndvi, cmap<span class="op">=</span><span class="st">'YlGn'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>plt.colorbar(label<span class="op">=</span><span class="st">"NDVI Value"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>plt.title(<span class="st">"NDVI Map of Indiana"</span>)</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="classify-ndvi-into-vegetation-categories">5. Classify NDVI into Vegetation Categories<a class="anchor" aria-label="anchor" href="#classify-ndvi-into-vegetation-categories"></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>ndvi_class <span class="op">=</span> np.digitize(ndvi, bins<span class="op">=</span>[<span class="dv">0</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span>])</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co"># 0 = water/barren, 1 = low vegetation, 2 = dense vegetation</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>colors <span class="op">=</span> [<span class="st">'blue'</span>, <span class="st">'yellow'</span>, <span class="st">'green'</span>]</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>plt.imshow(ndvi_class, cmap<span class="op">=</span>plt.matplotlib.colors.ListedColormap(colors))</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>plt.title(<span class="st">"NDVI Vegetation Classification"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<div id="challenge-1-try-it-yourself" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="challenge-1-try-it-yourself" class="callout-inner">
<h3 class="callout-title">Challenge 1 — Try It Yourself</h3>
<div class="callout-content">
<ul>
<li><p>Change the NDVI color map (cmap)</p></li>
<li><p>Classify NDVI into four categories instead of three</p></li>
<li><p>Add labels or legends to your final map</p></li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>bins <span class="op">=</span> [<span class="dv">0</span>, <span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>]</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>ndvi_class <span class="op">=</span> np.digitize(ndvi, bins<span class="op">=</span>bins)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge-2-mask-water-pixels" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="challenge-2-mask-water-pixels" class="callout-inner">
<h3 class="callout-title">Challenge 2 — Mask Water Pixels</h3>
<div class="callout-content">
<p>Use NDVI to mask water (&lt;0):</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>water_mask <span class="op">=</span> ndvi <span class="op">&lt;</span> <span class="dv">0</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>ndvi_water_removed <span class="op">=</span> np.where(water_mask, np.nan, ndvi)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>plt.imshow(ndvi_water_removed, cmap<span class="op">=</span><span class="st">'YlGn'</span>)</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>plt.title(<span class="st">"NDVI with Water Masked"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Water regions become transparent/ignored in the plot.</p>
</div>
</div>
</div>
</div>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div class="callout-inner">
<div class="callout-content">
<p>NDVI is affected by seasonality, cloud cover, and atmospheric
effects. Always check metadata to ensure you’re comparing compatible
scenes.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="math">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>NDVI uses reflectance difference between two bands:</p>
<p><code>NDVI = (NIR - RED)/(NIR + RED)</code></p>
<p>NIR increases with vegetation health — higher NDVI = greener
land.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li><p>NDVI uses Red &amp; NIR reflectance from satellite
imagery</p></li>
<li><p>Landsat Band 4 = Red, Band 5 = NIR for NDVI</p></li>
<li><p>NDVI ranges from -1 (water) to +1 (healthy vegetation)</p></li>
<li><p>Python tools: rasterio, numpy, matplotlib</p></li>
<li><p>NDVI maps reveal vegetation patterns visually and
quantitatively</p></li>
</ul>
</div>
</div>
</div>
</section><div class="section level1">
<h1 id="module-overview">Module Overview<a class="anchor" aria-label="anchor" href="#module-overview"></a>
</h1>
<table class="table">
<colgroup>
<col width="14%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>Lesson</th>
<th>Overview</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://colab.research.google.com/github/SpatialTurn/DataCollection-Notebooks/blob/main/Census/NDVI_Indiana.ipynb" target="_blank" class="external-link">Beginner</a></td>
<td>Introduction to NDVI using LANDSAT Dataset.</td>
</tr>
<tr class="even">
<td><a href="">Advanced</a></td>
<td>(to be added)</td>
</tr>
</tbody>
</table>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries/workbench-template-md/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries/workbench-template-md/" class="external-link">Source</a></p>
        <p>
        <a href="citation.html">Cite</a>
        | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
		</div>
		<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.3" class="external-link">sandpaper (0.17.3)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.9" class="external-link">varnish (1.0.9)</a></p>
		</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://carpentries.github.io/workbench-template-md/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries.github.io/workbench-template-md/aio.html",
  "identifier": "https://carpentries.github.io/workbench-template-md/aio.html",
  "dateCreated": "2026-01-14",
  "dateModified": "2026-01-14",
  "datePublished": "2026-01-14"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

